@import 'tailwindcss';

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  :root {
    /* Emerald (default) */
    --brand-300: #6ee7c5;
    --brand-600: #059669;
    --brand-700: #047857;
    --brand-800: #065f46;
    --accent-500: #c4a052;
  }
  /* Sand / Gold */
  [data-theme="sand"] {
    --brand-300: #f7e1b5;
    --brand-600: #b38c4a;
    --brand-700: #8b6c37;
    --brand-800: #6b532a;
    --accent-500: #d5b26f;
  }
  /* Midnight */
  [data-theme="midnight"] {
    --brand-300: #7dd3fc;
    --brand-600: #0ea5e9;
    --brand-700: #0284c7;
    --brand-800: #0369a1;
    --accent-500: #14b8a6;
  }
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
  html[dir="rtl"] body {
    letter-spacing: 0.1px;
  }
  html { font-size: 16px; }
  @media (min-width: 768px) { html { font-size: 17px; } }
  @media (min-width: 1280px) { html { font-size: 18px; } }
  body { line-height: 1.65; -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; }
  /* Typographic scale */
  html[lang="ar"] .display-hero { letter-spacing: 0; font-family: system-ui, "Noto Naskh Arabic", "Amiri", serif; }
  .display-hero {
    font-weight: 800;
    letter-spacing: -0.02em;
    font-size: clamp(2.75rem, 1.4rem + 3.6vw, 4.75rem);
    line-height: 1.1;
  }
  .title-lg {
    font-weight: 700;
    letter-spacing: -0.01em;
    font-size: clamp(1.25rem, 1rem + 1vw, 1.75rem);
  }
  .lead {
    font-size: clamp(1.15rem, 1.0rem + .6vw, 1.35rem);
    line-height: 1.6;
    color: var(--color-gray-600);
  }
  .eyebrow {
    font-size: .85rem;
    letter-spacing: .12em;
    text-transform: uppercase;
    color: var(--brand-700);
  }
}

@layer utilities {
  .animate-fade-in {
    animation: fade-in 0.5s ease-out;
  }
  
  .animate-slide-up {
    animation: slide-up 0.6s ease-out;
  }
  
  .animate-scale-in {
    animation: scale-in 0.4s ease-out;
  }
  
  .animation-delay-100 {
    animation-delay: 100ms;
  }
  
  .animation-delay-200 {
    animation-delay: 200ms;
  }
  
  .animation-delay-300 {
    animation-delay: 300ms;
  }
  
  .animation-delay-400 {
    animation-delay: 400ms;
  }
  
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  
  .text-brand { color: var(--brand-600) }
  .bg-brand { background-color: var(--brand-600) }
  .hover\:bg-brand-700:hover { background-color: var(--brand-700) }
  .ring-brand { --tw-ring-color: var(--brand-300) }
  .stroke-brand { stroke: var(--brand-600) }
  .fill-brand { fill: var(--brand-600) }
  .accent-gold { color: var(--accent-500) }
  .border-brand { border-color: var(--brand-600) }
  .border-accent { border-color: var(--accent-500) }
  .brand-gradient {
    background-image: linear-gradient(90deg, var(--brand-800), var(--brand-600));
  }
  .surface-gradient {
    background:
      radial-gradient(40% 60% at 10% 0%, color-mix(in oklab, var(--brand-300) 45%, transparent), transparent 70%),
      radial-gradient(30% 50% at 90% 10%, color-mix(in oklab, var(--brand-300) 35%, transparent), transparent 70%),
      linear-gradient(180deg, white, white);
  }
  :root.dark .surface-gradient {
    background:
      radial-gradient(40% 60% at 10% 0%, color-mix(in oklab, var(--brand-800) 35%, transparent), transparent 70%),
      radial-gradient(30% 50% at 90% 10%, color-mix(in oklab, var(--brand-700) 25%, transparent), transparent 70%),
      linear-gradient(180deg, #0b0f14, #0b0f14);
  }
  /* 2025 visual utilities */
  .bg-aurora {
    background:
      radial-gradient(1200px 600px at -10% -10%, color-mix(in oklab, var(--brand-300) 35%, transparent), transparent 60%),
      radial-gradient(900px 450px at 110% 0%, color-mix(in oklab, var(--accent-500) 15%, transparent), transparent 65%),
      radial-gradient(800px 400px at 50% 120%, color-mix(in oklab, var(--brand-600) 18%, transparent), transparent 60%);
  }
  :root.dark .bg-aurora {
    background:
      radial-gradient(1200px 600px at -10% -10%, color-mix(in oklab, var(--brand-800) 40%, transparent), transparent 60%),
      radial-gradient(900px 450px at 110% 0%, color-mix(in oklab, var(--accent-500) 18%, transparent), transparent 65%),
      radial-gradient(800px 400px at 50% 120%, color-mix(in oklab, var(--brand-700) 24%, transparent), transparent 60%);
  }
  .bg-grid-mask {
    position: relative;
  }
  .bg-grid-mask::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background-image:
      linear-gradient(to right, color-mix(in oklab, var(--brand-600) 12%, transparent) 1px, transparent 1px),
      linear-gradient(to bottom, color-mix(in oklab, var(--brand-600) 12%, transparent) 1px, transparent 1px);
    background-size: 36px 36px;
    mask-image: radial-gradient(closest-side, #000 60%, transparent 100%);
    opacity: .08;
  }
  .elevated-2025 {
    box-shadow:
      0 1px 1px rgba(2, 6, 23, .05),
      0 8px 24px rgba(2, 6, 23, .08),
      0 24px 64px rgba(2, 6, 23, .08);
  }
  .card-2025 {
    background:
      linear-gradient(180deg, color-mix(in oklab, white 88%, transparent), color-mix(in oklab, white 70%, transparent));
    border: 1px solid color-mix(in oklab, var(--brand-600) 14%, transparent);
    border-radius: 1rem;
    backdrop-filter: saturate(1.1) blur(6px);
  }
  :root.dark .card-2025 {
    background:
      linear-gradient(180deg, color-mix(in oklab, #0b0f14 85%, transparent), color-mix(in oklab, #0b0f14 70%, transparent));
    border-color: color-mix(in oklab, var(--brand-300) 14%, transparent);
    color: #e5e7eb; /* high-contrast foreground on dark surfaces */
  }
  /* Dark luminous accents and tuned shadows */
  .shadow-ambient {
    box-shadow:
      0 2px 6px rgba(2, 6, 23, .04),
      0 12px 28px rgba(2, 6, 23, .10);
  }
  :root.dark .shadow-ambient {
    box-shadow:
      0 1px 0 rgba(255,255,255,.03) inset,
      0 8px 24px rgba(0,0,0,.40),
      0 20px 48px rgba(0,0,0,.45);
  }
  .luminous {
    box-shadow:
      0 0 0 1px color-mix(in oklab, var(--brand-300) 22%, transparent) inset,
      0 0 24px color-mix(in oklab, var(--brand-600) 14%, transparent);
  }
  :root.dark .luminous {
    box-shadow:
      0 0 0 1px color-mix(in oklab, var(--brand-300) 28%, transparent) inset,
      0 0 28px color-mix(in oklab, var(--brand-600) 28%, transparent);
  }
  .focus-ring {
    outline: none;
    box-shadow: 0 0 0 2px rgba(99, 102, 241, .7);
  }
  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-4px); }
  }
  .animate-float { animation: float 3s ease-in-out infinite; }
  .hover-pop:hover { transform: translateY(-2px); transition: transform .2s ease; }
  .glass {
    background-color: color-mix(in oklab, white 80%, transparent);
    backdrop-filter: blur(8px);
  }
  .gold-gradient-text {
    background-image: linear-gradient(90deg, #f7e7a3, var(--accent-500), #f7e7a3);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
  /* Ambient hero effects */
  .spotlight {
    position: absolute;
    inset: -10%;
    pointer-events: none;
    background:
      radial-gradient(600px 320px at 20% 10%, color-mix(in oklab, var(--brand-300) 26%, transparent), transparent 60%),
      radial-gradient(800px 400px at 80% 0%, color-mix(in oklab, var(--accent-500) 18%, transparent), transparent 65%);
    mix-blend-mode: screen;
    opacity: .55;
  }
  :root.dark .spotlight {
    opacity: .45;
    mix-blend-mode: lighten;
  }
  .noise-overlay {
    position: absolute;
    inset: 0;
    pointer-events: none;
    background-image:
      repeating-linear-gradient(45deg, rgba(0,0,0,.04) 0, rgba(0,0,0,.04) 1px, transparent 1px, transparent 3px),
      repeating-linear-gradient(-45deg, rgba(0,0,0,.03) 0, rgba(0,0,0,.03) 1px, transparent 1px, transparent 3px);
    opacity: .03;
    mix-blend-mode: overlay;
  }
  .cursor-glow {
    position: absolute;
    width: 34rem;
    height: 34rem;
    pointer-events: none;
    border-radius: 9999px;
    background: radial-gradient(closest-side, color-mix(in oklab, var(--brand-600) 28%, transparent), transparent 70%);
    filter: blur(40px);
    opacity: .18;
    transform: translate3d(var(--mx, -50%), var(--my, -50%), 0);
    transition: transform .08s linear;
    mix-blend-mode: screen;
  }
  /* Accessibility */
  .skip-link {
    position: absolute;
    left: 8px;
    top: -40px;
    padding: .5rem .75rem;
    border-radius: .5rem;
    background: #111827;
    color: white;
    z-index: 50;
  }
  .skip-link:focus { top: 8px }
  /* Motion utilities */
  @keyframes fade-up {
    from { opacity: 0; transform: translateY(8px) }
    to { opacity: 1; transform: translateY(0) }
  }
  .reveal { animation: fade-up .6s ease-out both }
  
  /* AI-Native Enhanced Animations */
  @keyframes shimmer {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
  }
  .animate-shimmer {
    background: linear-gradient(
      90deg,
      transparent,
      color-mix(in oklab, var(--brand-300) 20%, transparent),
      transparent
    );
    background-size: 1000px 100%;
    animation: shimmer 3s infinite;
  }
  
  @keyframes pulse-glow {
    0%, 100% { opacity: 0.4; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.05); }
  }
  .animate-pulse-glow {
    animation: pulse-glow 3s ease-in-out infinite;
  }
  
  @keyframes gradient-shift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }
  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient-shift 4s ease infinite;
  }
  
  @keyframes float-slow {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    33% { transform: translateY(-10px) rotate(1deg); }
    66% { transform: translateY(-5px) rotate(-1deg); }
  }
  .animate-float-slow {
    animation: float-slow 6s ease-in-out infinite;
  }
  
  /* Glass morphism enhancements */
  .glass-strong {
    background: color-mix(in oklab, white 85%, transparent);
    backdrop-filter: blur(16px) saturate(180%);
    border: 1px solid color-mix(in oklab, var(--brand-600) 20%, transparent);
  }
  :root.dark .glass-strong {
    background: color-mix(in oklab, #0b0f14 80%, transparent);
    border-color: color-mix(in oklab, var(--brand-300) 25%, transparent);
  }
  
  /* AI-native gradient text */
  .ai-gradient-text {
    background: linear-gradient(
      135deg,
      var(--brand-600) 0%,
      var(--accent-500) 50%,
      var(--brand-300) 100%
    );
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    background-size: 200% 200%;
    animation: gradient-shift 4s ease infinite;
  }
  
  /* Enhanced hover effects */
  .hover-lift {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: 
      0 12px 24px rgba(2, 6, 23, .12),
      0 24px 48px rgba(2, 6, 23, .08);
  }
  
  /* Glow effects */
  .glow-brand {
    box-shadow: 
      0 0 20px color-mix(in oklab, var(--brand-600) 30%, transparent),
      0 0 40px color-mix(in oklab, var(--brand-600) 15%, transparent);
  }
  .glow-accent {
    box-shadow: 
      0 0 20px color-mix(in oklab, var(--accent-500) 30%, transparent),
      0 0 40px color-mix(in oklab, var(--accent-500) 15%, transparent);
  }
  
  /* Modern border gradient */
  .border-gradient {
    position: relative;
    background: var(--surface);
    border-radius: 1rem;
  }
  .border-gradient::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 1rem;
    padding: 1px;
    background: linear-gradient(
      135deg,
      var(--brand-600),
      var(--accent-500),
      var(--brand-300)
    );
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0.6;
  }
  
  /* Particle effect background */
  .particle-bg {
    position: relative;
    overflow: hidden;
  }
  .particle-bg::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: 
      radial-gradient(2px 2px at 20% 30%, var(--brand-300), transparent),
      radial-gradient(2px 2px at 60% 70%, var(--accent-500), transparent),
      radial-gradient(1px 1px at 50% 50%, var(--brand-600), transparent),
      radial-gradient(1px 1px at 80% 10%, var(--brand-300), transparent),
      radial-gradient(2px 2px at 90% 40%, var(--accent-500), transparent);
    background-size: 200% 200%;
    background-position: 0% 0%, 100% 100%, 50% 50%, 0% 100%, 100% 0%;
    animation: gradient-shift 20s ease infinite;
    opacity: 0.15;
    pointer-events: none;
  }
  
  @media (prefers-reduced-motion: reduce) {
    .animate-float, .hover-pop, .reveal, .animate-fade-in, .animate-slide-up, .animate-scale-in,
    .animate-shimmer, .animate-pulse-glow, .animate-gradient, .animate-float-slow { 
      animation: none 
    }
    .hover-pop:hover, .hover-lift:hover { transform: none }
  }
}
